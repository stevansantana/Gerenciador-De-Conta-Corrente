<div class="login-page">
  <div class="login-container">
    <% if flash[:notice] %>
      <div class="alert alert-success">
        <%= flash[:notice] %>
      </div>
    <% end %>

    <% if flash[:alert] %>
      <div class="alert alert-danger">
        <%= flash[:alert] %>
      </div>
    <% end %>

    <div class="login-header">
      <h1>Acesse sua conta</h1>
      <p>Informe suas credenciais para continuar</p>
    </div>

    <%= form_with url: login_path, local: true, data: { turbo: false }, class: "login-form" do |form| %>

      <div class="form-group">
        <%= form.label :conta_corrente %>
        <%= form.text_field :conta_corrente, class: "form-control" %>
      </div>

      <div class="form-group">
        <%= form.label :senha %>
        <%= form.password_field :senha, class: "form-control" %>
      </div>

      <%= form.submit "Entrar", class: "btn-primary" %>
    <% end %>

    <% if flash[:alert] %>
      <p class="alert-message"><%= flash[:alert] %></p>
    <% end %>

    <!-- Opcional: links adicionais -->
    <div class="login-footer">
      <a href="#">Esqueceu sua senha?</a>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    // Para mensagens de sucesso
    const notice = document.querySelector('.alert-success');
    if (notice) {
      setTimeout(() => {
        notice.style.opacity = '0';
        setTimeout(() => notice.remove(), 1000);
      }, 5000);
    }

    // Para mensagens de erro
    const alert = document.querySelector('.alert-danger');
    if (alert) {
      setTimeout(() => {
        alert.style.opacity = '0';
        setTimeout(() => alert.remove(), 1000);
      }, 5000);
    }
  });
</script>